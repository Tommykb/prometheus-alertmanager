{{define "alertsTabClass"}}active{{end}}

{{define "head"}}
    <script src="/static/js/alerts.js"></script>
{{end}}

{{define "content"}}
    <h2>Alerts</h2>
    <div class="input-append">
      <input class="input-xxlarge" type="text" value="service=&quot;*&quot;">
      <button class="btn" type="button"><i class="icon-filter"></i></button>
    </div>
    <table class="table table-striped table-bordered table-hover">
      <thead>
        <tr>
          <th>Alert</th>
          <th>Labels</th>
          <th>Active Since</th>
          <th>Last Refreshed</th>
          <th>Surpressed</th>
        </tr>
      </thead>
      <tbody>
        {{range .AlertAggregates}}
          <tr>
            <td>
              {{index .Event.Name}}
              <form class="add_silence_form">
                <input type="hidden" name="label[]" value="name">
                <input type="hidden" name="value[]" value="{{.Event.Labels.name}}">
                <a href="#create_silence_modal" role="button" class="btn btn-mini add_silence_btn" data-toggle="modal">Silence Alert</a>
              </form>
            </td>
            <td>
              {{range $label, $value := .Event.Labels}}
                <b>{{$label}}</b>="{{$value}}",
              {{end}}
              <form class="add_silence_form">
                {{range $label, $value := .Event.Labels}}
                  <input type="hidden" name="label[]" value="{{$label}}">
                  <input type="hidden" name="value[]" value="{{$value}}">
                {{end}}
                <a href="#create_silence_modal" role="button" class="btn btn-mini add_silence_btn" data-toggle="modal">Silence Instance</a>
              </form>
            </td>
            <td>{{timeSince .Created}} ago</td>
            <td>{{timeSince .LastRefreshed}} ago</td>
            <td>No</td>
          </tr>
        {{end}}
      </tbody>
    </table>
    {{template "createSilenceModal" .}}
{{end}}
